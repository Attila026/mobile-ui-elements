<!--
    force-ui-detail element enables the rendering of full view of a salesforce record. This element uses the `force-sobject-layout` element to fetch the page layout for the record. This element also embeds a force-sobject element to allow all the CRUD operations on an SObject.
    Why: a) Reads the layout settings of an object and renders the detail accordingly.
    b) Provides a simpler DOM based interface to fetch full or partial record.

    @attributes:
    fieldlist: (Optional) Default: All fields on the layout. A list of fields that should be displayed for the record.
    fieldlabels: (Optional) Default: Actual field labels. A list of labels for fields provided in fieldlist attribute. The order of labels should be same as the order of fields in the fieldlist attribute.

    @extends force-sobject-layout
-->
<link rel="import" href="../../dependencies/polymer/polymer.html">
<link rel="import" href="../force-app/force-app.html">
<link rel="import" href="../force-sobject/force-sobject.html">
<link rel="import" href="../force-sobject-layout/force-sobject-layout.html">
<dom-module id="force-ui-detail">
  <template>
    <force-sobject id="force_sobject" sobject="[[sobject]]" recordid="[[recordid]]" fieldlist="[[fieldlist]]" fields="{{model}}"></force-sobject>
    <!-- TBD: Prevent layout fetch if fieldlist is already specified -->
    <force-sobject-layout id="sobject_layout" sobject="[[sobject]]" recordid="[[recordid]]" hasrecordtypes="[[hasrecordtypes]]" recordtypeid="[[recordtypeid]]" on-layout-change="renewTemplate"></force-sobject-layout>
    <div id="viewContainer" class$="[[viewClass]]"></div>
    <content select="*"></content>
  </template>
  <script src="force-ui-detail.js"></script>
</dom-module>

<dom-module id="force-html-output">
  <script>
    Polymer({
      is: 'force-html-output', 
      property: {
        value: String
      },
      observers: [
        "_valueChanged(value)"
      ],
      _valueChanged: function() {
        this.innerHTML = this.value;
      }
    })
  </script>
</dom-module>